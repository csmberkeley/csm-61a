%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% REVIEW OF PROBLEM S23
% REVIEWER: ALYSSA SMITH
% I would argue this problem belongs in medium, but the amount of free reign the student has to define the conditionals and loop makes for it to be a challenge.
% Good problem, and, in my opinion, the wording is as clear as it can be, with the test cases showing all cases.
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\begin{blocksection}
\question Complete the function \lstinline{fact_limit}, which calculates factorials up to a specified limit. Specifically, \lstinline{fact_limit} takes in two positive integers, \lstinline{n} and \lstinline{limit}, and calculates the product of \lstinline{n}, \lstinline{n-1}, \lstinline{n-2}, etc., working downward until it attains the greatest product that doesn't exceed \lstinline{limit}. If there is no product less than or equal to \lstinline{limit}, \lstinline{fact_limit} should return 1. 

\emph{Hint: The output of \lstinline{fact_limit} is always less than or equal to \lstinline{limit}.}

\begin{lstlisting}
def fact_limit(n, limit):
    """
    >>> fact_limit(5, 20) 
    20 # 5 * 4 = 20, but 5 * 4 * 3 = 60 > 20
    >>> fact_limit(5, 200) 
    120 # 5 * 4 * 3 * 2 * 1 = 120 < 200
    >>> fact_limit(5, 3) 
    1 # no partial product is less than 3
    """
    if ________________:

        ________________

    product = ________________

    ________________ = n - 1

    while ________________:

        ____________ = ____________  

        ____________ = ____________
        
    return ________________

\end{lstlisting}
\end{blocksection}

\begin{blocksection}
\begin{solution}
\begin{lstlisting}
def fact_limit(n, limit):
    if n > limit:
        return 1
    product = n
    n = n - 1
    while product * n <= limit and n > 0:
        product = product * n  
        n = n - 1
    return product
\end{lstlisting}
\end{solution}
\end{blocksection}